<!doctype html>
<html>
<head>
    <meta charset="UTF-8">

    <title>iOS蓝牙开发：蓝牙连接和数据读写 - CocoaChina_让移动开发更简单</title>
    <meta name="keywords" content="iOS,蓝牙,数据传输iPhone开发,iOS开发,iPad开发,Mac开发,苹果开发中文站,iPhone开发中文站,CocoaChina首页, Mac OS开发, Cocoa介绍,移动互联网,触控科技,Cocoa,Apple,developer,iOS,iPhone,iPad,iMac,iPod Touch,iPhone5,iPhone4S,iPad3,招聘,iPhone程序员,Objective-c,iPhone应用外包,ios6,ios面试,Cocos2d-x,cocos2d,iTunes,App Store,苹果开发" />
    <meta name="description" content="CocoaChina前身是全球成立最早规模最大的苹果开发中文站，现致力为所有移动开发者提供资讯服务、问答服务、代码下载、工具库及人才招聘服务" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="baidu-tc-cerfication" content="3300a939a1098c27e94457b75a0bb8c1" />
    <script type='text/javascript'>
        function gotoMobilePage() {
            var sUserAgent = navigator.userAgent.toLowerCase();
            var agent_iphone = /iphone/i;
            var agent_android = /android/i;
            //var agent_ipad = /ipad/i;
            var agent_ipod = /ipod/i;
            var agent_wphone = /windows phone/i;
            if(agent_iphone.test(sUserAgent) || agent_android.test(sUserAgent) || agent_ipod.test(sUserAgent) || agent_wphone.test(sUserAgent)){
                var re = /\/\w+\/\d+\/(\d+)\.html/, 
                    result = re.exec(window.location.pathname);
                if ( result )
                {
                    window.location.href = "http://www.cocoachina.com/cms/wap.php?action=article&id=" + result[1];
                } else {
                    window.location.href = "http://m.cocoachina.com/";
                }
            }
        }
        gotoMobilePage(); 
    </script>
    <link rel="stylesheet" href="http://cdn.cocimg.com/assets/css/global.css?v=20150818" media="all">
    <link rel="stylesheet" href="http://cdn.cocimg.com/assets/css/index.css?v=20151015" media="all">
    <link href="http://cdn.cocimg.com/assets/css/module.css?v=20150906" rel="stylesheet">
    <link href="http://cdn.cocimg.com/assets/css/style.css?v=620150818" rel="stylesheet">
    <link href="http://cdn.cocimg.com/assets/css/navheader.css?v=20160301" rel="stylesheet" />
    <script src="http://cdn.cocimg.com/assets/js/jquery.min.js?v=20150818" type="text/javascript"></script>
    <script type="text/javascript" src="http://cdn.cocimg.com/assets/js/navbar.js?v=20151013"></script>
    <script type="text/javascript" src="http://s.csbew.com/k.js"></script>
    
</head>
<body>

    <div class="nav-header">
            <div class="nav-header-top">
                <div class="nav-logo nav-fl"><a href="/"><img src="http://cdn.cocimg.com/assets/images/logo.png?v=201510272" /></a></div>
                <div class="nav-list nav-fl">
                    <ul>
                        <li><a href="/news/">资讯</a></li>
                        <li><a href="/bbs/">论坛</a></li>
                        <li><a target="_blank" href="http://code.cocoachina.com/" title="CODE">代码</a></li>
                        <li><a href="http://tools.cocoachina.com" title="工具" target='_blank'>工具</a></li>
                        <li><a target="_blank" href="http://job.cocoachina.com/" title="JOB">招聘</a></li>
                        <li><a target="_blank" href="http://cvp.cocos.com/" title="CVP">CVP</a></li>
                        <li><a target="_blank" href="http://waikuai.cocoachina.com/" title="waikuai">外快</a></li>
                        <li><a target="_blank" href="http://blog.cocoachina.com/" title="blog">博客</a><span class="new-item-flag">new</span></li>
                    </ul>
                </div>
                <div class="nav-search nav-fl">
                    <div class="nav-search-flag" style="display:block"><img src="http://cdn.cocimg.com/assets/img/search-icon.png?v=20150825" /></div>
                    <div class="nav-search-form" style="display:none">
                        <form action="/cms/plus/search.php" name="formsearch" method="post" target="_blank">
                            <input type="hidden" name="kwtype" value="0" />
                            <input type="hidden" name="searchtype" value="titlekeyword" />
                            <input name="keyword" type="text" placeholder="站内搜索" />
                            <input type="button" />
                        </form>
                    </div>
                </div>
                <div class="nav-user nav-fr">
                    <!-- #region 未登录时显示此区域 -->
                    <div class="nav-user-login" style="display:block">
                        <a href="/bbs/login.php">登录</a>|
                        <a href="/bbs/register.php">注册</a>
                    </div>
                    <!-- #endregion -->
                    <!-- #region 已登录时显示此区域 -->
                    <div class="nav-user-name" style="display:none">
                        <div><alert></alert><img src="/assets/img/user.png" />Guest</div>
                        <ul>
                            <li><a href="#"><img src="/assets/img/i-man.png" />我的主页</a></li>
                            <li><alert></alert><a href="#"><img src="/assets/img/i-mail.png" />我的消息</a></li>
                            <li><a href="#"><img src="/assets/img/i-setting.png" />账户设置</a></li>
                            <li><a href="index-offline.html"><img src="/assets/img/i-logout.png" />退出</a></li>
                        </ul>
                    </div>
                    <!-- #endregion -->
                </div>
                <div class="nav-clear"></div>
            </div>
        <div class="nav-header-bottom">
            <ul>
                <li><a id="ios" href="/ios/" title="ios">iOS开发</a></li>
                <li><a id="swift" href="/swift/" title="swift">Swift</a></li>
                <li><a id="app_store" href="/appstore/" title="appstore">App Store研究</a></li>
                <li><a id="design" href="/design/" title="design">产品设计</a></li>
                <li><a id="review" href="/review/" title="review">应用</a></li>
                <li><a id="review" href="/vr/" title="review">VR</a></li>
                <li><a id="game" href="/game/" title="game">游戏开发</a></li>
                <li><a id="apple" href="/apple/" title="apple">苹果相关</a></li>
                <!-- <li><a id="cocos" href="/cocos/" title="cocos">Cocos引擎</a></li>-->
                <!--<li><a id="webapp" href="/webapp/" title="HTML5">HTML5</a></li>-->
                <li><a id="android" href="/android/" title="android">安卓相关</a></li>
                <li><a id="market" href="/market/" title="market">营销推广</a></li>
                <li><a id="industry" href="/industry/" title="industry">业界动态</a></li>
                <li><a id="programmer" href="/programmer/" title="programmer">程序人生</a></li>
            </ul>
        </div>
    </div>

<script language="javascript">
    function IsPC() {
        var userAgentInfo = navigator.userAgent;
        var Agents = new Array("Android", "iPhone", "SymbianOS", "Windows Phone", "iPod");
        var flag = true;
        for (var v = 0; v < Agents.length; v++) {
        if (userAgentInfo.indexOf(Agents[v]) > 0) { flag = false; break; }
        }
        return flag;
    }
    if (!IsPC()){
           window.location.href = "http://www.cocoachina.com/cms/wap.php?action=article&id=17813";
    }

</script>
<!--middle-->
<div class="middle clearfix">
    <div class="m-wrap">
        <div class="m-ad2" style="margin-top:12px;">
            <div class="ad2-l">
                <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                <!-- CC首页底部左侧72890 -->
                <ins class="adsbygoogle"
                     style="display:inline-block;width:728px;height:90px"
                     data-ad-client="ca-pub-1180518835303646"
                     data-ad-slot="8012423965"></ins>
                <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
            </div>
            <div class="ad2-r">
                <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                <!-- CC资讯页25090 -->
                <ins class="adsbygoogle"
                     style="display:inline-block;width:250px;height:90px"
                     data-ad-client="ca-pub-1180518835303646"
                     data-ad-slot="9489157162"></ins>
                <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
            </div>
        </div>
        <!--left-->
        <div class="detail-left float-l">
            <p class="crumbs"><a href="/" title="首页">首页</a> &gt;</span><a href="/ios" title="iOS开发"><span id="type_name">iOS开发</span></a></p>
            <div class="detail-main">
                <h2>iOS蓝牙开发：蓝牙连接和数据读写</h2>
                <div class="p-ico clearfix">
                    <div>
                        <span class="ml0">2016-10-21 10:02</span>
                        <span>编辑：
                        <a href="" id="field_author" target="_blank">不灭的小灯灯</a></span>
                        <span>分类：<a href="/ios/" target="_blank">iOS开发</a></span>
                        <span id="source">来源：<a href="http://www.jianshu.com/p/87c30628ddaa" target="_blank">姚兜兜的简书</a></span>

                        <div class="float-r">
                            <span id="artical_comment_cnt"><i></i></span>
                            <span><i class="view"></i><script src="/cms/plus/count.php?view=yes&aid=17813&mid=65" language="javascript"></script></span>
                    </div>
                    </div>
                </div>
                <div class="p-ico clearfix">
                    <p class="related float-l"><a href="/cms/tags.php?/iOS/" target="_blank">iOS</a><a href="/cms/tags.php?/%E8%93%9D%E7%89%99/" target="_blank">蓝牙</a><a href="/cms/tags.php?/%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93/" target="_blank">数据传输</a></p>
                    <input type="hidden" id="article_id"  value="17813"/>
                </div>
                <div class="adsbox clearfix">
                    <div class="float-l">
                        <div class="float-l"><b>招聘信息：</b></div>
                        <ul class="float-l" id="invitelist" style="margin-top: 0px;">
                            <li><a href='http://job.cocoachina.com/job/show?id=68039' target='_blank'>技术合伙人</a></li><li><a href='http://job.cocoachina.com/job/show?id=68040' target='_blank'>移动应用开发项目经理</a></li><li><a href='http://job.cocoachina.com/job/show?id=68231' target='_blank'>iOS开发工程师</a></li><li><a href='http://job.cocoachina.com/job/show?id=68209' target='_blank'>移动APP研发工程师</a></li><li><a href='http://job.cocoachina.com/job/show?id=68164' target='_blank'>产品经理/Product Manager</a></li><li><a href='http://job.cocoachina.com/job/show?id=68175' target='_blank'>Unity开发工程师</a></li><li><a href='http://job.cocoachina.com/job/show?id=68146' target='_blank'>高级iOS工程师</a></li><li><a href='http://job.cocoachina.com/job/show?id=68153' target='_blank'>SDK产品经理</a></li><li><a href='http://job.cocoachina.com/job/show?id=68138' target='_blank'>cocos2d-x游戏开发工程师</a></li><li><a href='http://job.cocoachina.com/job/show?id=65858' target='_blank'>iOS高级开发工程师</a></li><li><a href='http://job.cocoachina.com/job/show?id=67531' target='_blank'>[成都 | 远程办公] 招聘Android工程师</a></li>
                            <!--<script src="http://www.cocoachina.com/bbs/new.php?action=article&fidin=26&digest=0&postdate=0&author=0&fname=0&hits=0&replies=0&pre=1&num=3&length=120&order=2" charset="gbk"></script>-->
                        </ul>
                    </div>
                    <div class="float-r">
                        <a href="javascript:void(0)" class="prev"></a>
                        <a href="javascript:void(0)" class="next"></a>
                    </div>
                </div>
                <div id="detailbody" class="field_body">
                    <p>当下蓝牙开发可谓是越来越火，不论是智能穿戴的兴起还是蓝牙家具，车联网蓝牙等等，很多同学也会接触到蓝牙的项目，我从事蓝牙开发也有一段时间了，经手了两个项目。废话不多说了，先向大家简单的介绍有关蓝牙开发的知识。蓝牙低能耗(BLE)，以下介绍的都是围绕iOS的<code><CoreBluetooth/CoreBluetooth.h></code>框架展开的。</p><p>蓝牙开发分为中心者模式和管理者模式：1.常用的（其实99.99%）就是使用中心者模式作为开发，就是我们手机作为主机，连接蓝牙外设；2.管理者模式，这个基本用到的比较少，我们手机自己作为外设，自己创建服务和特征，然后有其他的设备连接我们的手机。</p><p>在做蓝牙开发之前，最好先了解一些概念：<br/>服务（services）：蓝牙外设对外广播的必定会有一个服务，可能也有多个，服务下面包含着一些特征，服务可以理解成一个模块的窗口；<br/>特征（characteristic）：存在于服务下面的，一个服务下面也可以存在多个特征，特征可以理解成具体实现功能的窗口，一般特征都会有value，也就是特征值，特征是与外界交互的最小单位；<br/>UUID：可以理解成蓝牙上的唯一标识符（硬件上肯定不是这个意思，但是这样理解便于我们开发），为了区分不同的服务和特征，或者给服务和特征取名字，我们就用UUID来代表服务和特征。</p><p>蓝牙连接可以大致分为以下几个步骤<br/>1.建立一个Central Manager实例进行蓝牙管理<br/>2.搜索外围设备<br/>3.连接外围设备<br/>4.获得外围设备的服务<br/>5.获得服务的特征<br/>6.从外围设备读数据<br/>7.给外围设备发送数据<br/>其他：提醒</p><p>首先我们先导入系统的BLE的框架<br/><code>#import <CoreBluetooth/CoreBluetooth.h></code></p><p>必须遵守2个协议<br/><code><CBCentralManagerDelegate, CBPeripheralDelegate></code></p><p>/<em>* 中心管理者 </em>/<br/><code>@property (nonatomic, strong) CBCentralManager *cMgr;</code></p><p>/<em>* 连接到的外设 </em>/<br/><code>@property (nonatomic, strong) CBPeripheral *peripheral;</code></p><p>1.建立一个Central Manager实例进行蓝牙管理</p><pre class="hljs objectivec">-(CBCentralManager&nbsp;*)cmgr
{
&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!_cmgr)&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_cMgr&nbsp;=&nbsp;[[CBCentralManager&nbsp;alloc]&nbsp;initWithDelegate:self&nbsp;queue:nil];
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;_cMgr;
}

//只要中心管理者初始化&nbsp;就会触发此代理方法&nbsp;判断手机蓝牙状态
-&nbsp;(void)centralManagerDidUpdateState:(CBCentralManager&nbsp;*)central
{
&nbsp;&nbsp;&nbsp;&nbsp;switch&nbsp;(central.state)&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;0:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NSLog(@"CBCentralManagerStateUnknown");
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;1:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NSLog(@"CBCentralManagerStateResetting");
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;2:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NSLog(@"CBCentralManagerStateUnsupported");//不支持蓝牙
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;3:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NSLog(@"CBCentralManagerStateUnauthorized");
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;4:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NSLog(@"CBCentralManagerStatePoweredOff");//蓝牙未开启
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;5:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NSLog(@"CBCentralManagerStatePoweredOn");//蓝牙已开启
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;在中心管理者成功开启后再进行一些操作
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;搜索外设
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[self.cMgr&nbsp;scanForPeripheralsWithServices:nil&nbsp;//&nbsp;通过某些服务筛选外设
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;options:nil];&nbsp;//&nbsp;dict,条件
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;搜索成功之后,会调用我们找到外设的代理方法
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;-&nbsp;(void)centralManager:(CBCentralManager&nbsp;*)central&nbsp;didDiscoverPeripheral:(CBPeripheral&nbsp;*)peripheral&nbsp;advertisementData:(NSDictionary&nbsp;*)advertisementData&nbsp;RSSI:(NSNumber&nbsp;*)RSSI;&nbsp;//找到外设
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;default:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;
&nbsp;&nbsp;&nbsp;&nbsp;}
}</pre><p>2.搜索外围设备 (我这里为了举例，采用了自己身边的一个手环)</p><pre class="hljs objectivec">//&nbsp;发现外设后调用的方法
-&nbsp;(void)centralManager:(CBCentralManager&nbsp;*)central&nbsp;//&nbsp;中心管理者
&nbsp;didDiscoverPeripheral:(CBPeripheral&nbsp;*)peripheral&nbsp;//&nbsp;外设
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;advertisementData:(NSDictionary&nbsp;*)advertisementData&nbsp;//&nbsp;外设携带的数据
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RSSI:(NSNumber&nbsp;*)RSSI&nbsp;//&nbsp;外设发出的蓝牙信号强度
{
&nbsp;&nbsp;&nbsp;&nbsp;//NSLog(@"%s,&nbsp;line&nbsp;=&nbsp;%d,&nbsp;cetral&nbsp;=&nbsp;%@,peripheral&nbsp;=&nbsp;%@,&nbsp;advertisementData&nbsp;=&nbsp;%@,&nbsp;RSSI&nbsp;=&nbsp;%@",&nbsp;__FUNCTION__,&nbsp;__LINE__,&nbsp;central,&nbsp;peripheral,&nbsp;advertisementData,&nbsp;RSSI);

&nbsp;&nbsp;&nbsp;&nbsp;/*
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;peripheral&nbsp;=&nbsp;<CBPeripheral:&nbsp;0x166668f0&nbsp;identifier&nbsp;=&nbsp;C69010E7-EB75-E078-FFB4-421B4B951341,&nbsp;Name&nbsp;=&nbsp;"OBand-75",&nbsp;state&nbsp;=&nbsp;disconnected>,&nbsp;advertisementData&nbsp;=&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;kCBAdvDataChannel&nbsp;=&nbsp;38;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;kCBAdvDataIsConnectable&nbsp;=&nbsp;1;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;kCBAdvDataLocalName&nbsp;=&nbsp;OBand;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;kCBAdvDataManufacturerData&nbsp;=&nbsp;<4c69616e&nbsp;0e060678&nbsp;a5043853&nbsp;75>;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;kCBAdvDataServiceUUIDs&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FEE7
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;kCBAdvDataTxPowerLevel&nbsp;=&nbsp;0;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},&nbsp;RSSI&nbsp;=&nbsp;-55
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;根据打印结果,我们可以得到运动手环它的名字叫&nbsp;OBand-75

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/

&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;需要对连接到的外设进行过滤
&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;1.信号强度(40以上才连接,&nbsp;80以上连接)
&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;2.通过设备名(设备字符串前缀是&nbsp;OBand)
&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;在此时我们的过滤规则是:有OBand前缀并且信号强度大于35
&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;通过打印,我们知道RSSI一般是带-的

&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;([peripheral.name&nbsp;hasPrefix:@"OBand"])&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;在此处对我们的&nbsp;advertisementData(外设携带的广播数据)&nbsp;进行一些处理

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;通常通过过滤,我们会得到一些外设,然后将外设储存到我们的可变数组中,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;这里由于附近只有1个运动手环,&nbsp;所以我们先按1个外设进行处理

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;标记我们的外设,让他的生命周期&nbsp;=&nbsp;vc
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.peripheral&nbsp;=&nbsp;peripheral;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;发现完之后就是进行连接
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[self.cMgr&nbsp;connectPeripheral:self.peripheral&nbsp;options:nil];
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NSLog(@"%s,&nbsp;line&nbsp;=&nbsp;%d",&nbsp;__FUNCTION__,&nbsp;__LINE__);
&nbsp;&nbsp;&nbsp;&nbsp;}
}</pre><p>3.连接外围设备</p><pre class="hljs objectivec">//&nbsp;中心管理者连接外设成功
-&nbsp;(void)centralManager:(CBCentralManager&nbsp;*)central&nbsp;//&nbsp;中心管理者
&nbsp;&nbsp;didConnectPeripheral:(CBPeripheral&nbsp;*)peripheral&nbsp;//&nbsp;外设
{
&nbsp;&nbsp;&nbsp;&nbsp;NSLog(@"%s,&nbsp;line&nbsp;=&nbsp;%d,&nbsp;%@=连接成功",&nbsp;__FUNCTION__,&nbsp;__LINE__,&nbsp;peripheral.name);
&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;连接成功之后,可以进行服务和特征的发现

&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;设置外设的代理
&nbsp;&nbsp;&nbsp;&nbsp;self.peripheral.delegate&nbsp;=&nbsp;self;

&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;外设发现服务,传nil代表不过滤
&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;这里会触发外设的代理方法&nbsp;-&nbsp;(void)peripheral:(CBPeripheral&nbsp;*)peripheral&nbsp;didDiscoverServices:(NSError&nbsp;*)error
&nbsp;&nbsp;&nbsp;&nbsp;[self.peripheral&nbsp;discoverServices:nil];
}
//&nbsp;外设连接失败
-&nbsp;(void)centralManager:(CBCentralManager&nbsp;*)central&nbsp;didFailToConnectPeripheral:(CBPeripheral&nbsp;*)peripheral&nbsp;error:(NSError&nbsp;*)error
{
&nbsp;&nbsp;&nbsp;&nbsp;NSLog(@"%s,&nbsp;line&nbsp;=&nbsp;%d,&nbsp;%@=连接失败",&nbsp;__FUNCTION__,&nbsp;__LINE__,&nbsp;peripheral.name);
}

//&nbsp;丢失连接
-&nbsp;(void)centralManager:(CBCentralManager&nbsp;*)central&nbsp;didDisconnectPeripheral:(CBPeripheral&nbsp;*)peripheral&nbsp;error:(NSError&nbsp;*)error
{
&nbsp;&nbsp;&nbsp;&nbsp;NSLog(@"%s,&nbsp;line&nbsp;=&nbsp;%d,&nbsp;%@=断开连接",&nbsp;__FUNCTION__,&nbsp;__LINE__,&nbsp;peripheral.name);
}</pre><p>4.获得外围设备的服务 & 5.获得服务的特征</p><pre class="hljs objectivec">//&nbsp;发现外设服务里的特征的时候调用的代理方法(这个是比较重要的方法，你在这里可以通过事先知道UUID找到你需要的特征，订阅特征，或者这里写入数据给特征也可以)
-&nbsp;(void)peripheral:(CBPeripheral&nbsp;*)peripheral&nbsp;didDiscoverCharacteristicsForService:(CBService&nbsp;*)service&nbsp;error:(NSError&nbsp;*)error
{
&nbsp;&nbsp;&nbsp;&nbsp;NSLog(@"%s,&nbsp;line&nbsp;=&nbsp;%d",&nbsp;__FUNCTION__,&nbsp;__LINE__);

&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(CBCharacteristic&nbsp;*cha&nbsp;in&nbsp;service.characteristics)&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//NSLog(@"%s,&nbsp;line&nbsp;=&nbsp;%d,&nbsp;char&nbsp;=&nbsp;%@",&nbsp;__FUNCTION__,&nbsp;__LINE__,&nbsp;cha);

&nbsp;&nbsp;&nbsp;&nbsp;}
}</pre><p>6.从外围设备读数据</p><pre class="hljs objectivec">//&nbsp;更新特征的value的时候会调用&nbsp;（凡是从蓝牙传过来的数据都要经过这个回调，简单的说这个方法就是你拿数据的唯一方法）&nbsp;你可以判断是否
-&nbsp;(void)peripheral:(CBPeripheral&nbsp;*)peripheral&nbsp;didUpdateValueForCharacteristic:(CBCharacteristic&nbsp;*)characteristic&nbsp;error:(NSError&nbsp;*)error
{
&nbsp;&nbsp;&nbsp;&nbsp;NSLog(@"%s,&nbsp;line&nbsp;=&nbsp;%d",&nbsp;__FUNCTION__,&nbsp;__LINE__);
&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(characteristic&nbsp;==&nbsp;@"你要的特征的UUID或者是你已经找到的特征")&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;//characteristic.value就是你要的数据
&nbsp;&nbsp;&nbsp;&nbsp;}
}</pre><p>7.给外围设备发送数据（也就是写入数据到蓝牙）<br/>这个方法你可以放在button的响应里面，也可以在找到特征的时候就写入，具体看你业务需求怎么用啦</p><pre class="hljs objectivec">[self.peripherale&nbsp;writeValue:_batteryData&nbsp;forCharacteristic:self.characteristic&nbsp;type:CBCharacteristicWriteWithResponse];//第一个参数是已连接的蓝牙设备&nbsp;；第二个参数是要写入到哪个特征；&nbsp;第三个参数是通过此响应记录是否成功写入</pre><pre class="hljs objectivec">//&nbsp;需要注意的是特征的属性是否支持写数据
-&nbsp;(void)yf_peripheral:(CBPeripheral&nbsp;*)peripheral&nbsp;didWriteData:(NSData&nbsp;*)data&nbsp;forCharacteristic:(nonnull&nbsp;CBCharacteristic&nbsp;*)characteristic
{
&nbsp;&nbsp;&nbsp;&nbsp;/*
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;typedef&nbsp;NS_OPTIONS(NSUInteger,&nbsp;CBCharacteristicProperties)&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CBCharacteristicPropertyBroadcast&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;0x01,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CBCharacteristicPropertyRead&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;0x02,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CBCharacteristicPropertyWriteWithoutResponse&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;0x04,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CBCharacteristicPropertyWrite&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;0x08,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CBCharacteristicPropertyNotify&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;0x10,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CBCharacteristicPropertyIndicate&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;0x20,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CBCharacteristicPropertyAuthenticatedSignedWrites&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;0x40,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CBCharacteristicPropertyExtendedProperties&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;0x80,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CBCharacteristicPropertyNotifyEncryptionRequired&nbsp;NS_ENUM_AVAILABLE(NA,&nbsp;6_0)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;0x100,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CBCharacteristicPropertyIndicateEncryptionRequired&nbsp;NS_ENUM_AVAILABLE(NA,&nbsp;6_0)&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;0x200
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;打印出特征的权限(characteristic.properties),可以看到有很多种,这是一个NS_OPTIONS的枚举,可以是多个值
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;常见的又read,write,noitfy,indicate.知道这几个基本够用了,前俩是读写权限,后俩都是通知,俩不同的通知方式
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/
//&nbsp;&nbsp;&nbsp;&nbsp;NSLog(@"%s,&nbsp;line&nbsp;=&nbsp;%d,&nbsp;char.pro&nbsp;=&nbsp;%d",&nbsp;__FUNCTION__,&nbsp;__LINE__,&nbsp;characteristic.properties);
&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;此时由于枚举属性是NS_OPTIONS,所以一个枚举可能对应多个类型,所以判断不能用&nbsp;=&nbsp;,而应该用包含&
}</pre><p>其他：提醒<br/>有那么多的特征，我们怎么知道哪些特征是用来读数据的，哪些是用来写入的，哪些是需要订阅之后再读的呢？<br/>如果你们硬件工程师事先告诉你了，或者有完成的开发文档，那么就可以直接知道了，否则你就需要自己去查看特征的属性，推介可以使用下第三方的app——LightBlue，让你更能清楚的看到你蓝牙里面的服务，特征，特征的属性。</p><p>其他后续有关文章，我会慢慢整理发出来，有需要的同学可以留下邮箱，我这里有视频教程，我也可以回答相关的问题，有错误的地方可以帮忙指出来呦！</p><p><br/><br/></p><div>文章转自 <a href="http://www.jianshu.com/p/87c30628ddaa" target="_self">姚兜兜的简书</a><br/></div>
                </div>
                <div id="page" style="padding:0"></div>

                <div class="wx_article">
                    <div class="article_weixin">
                        <img src="http://cdn.cocimg.com/cms/templets/images/article_weixin.jpg" width="131" height="131" alt="搜索CocoaChina微信公众号：CocoaChina"/>
                        <div class="article_scan">微信扫一扫</div>
                        <div class="article_txt" ><span style="color:#999999">订阅每日移动开发及APP推广热点资讯<br/>公众号：</span>CocoaChina</div>
                    </div>
                </div>

               <div class="clearfix tgbox">
                    <a href="http://www.cocoachina.com/deliver.php" class="tg float-l" target="_blank">我要投稿</a>&nbsp;&nbsp;
                    <a style="margin-left:10px"  href="javascript:void(0)" onClick="add_favors(17813,'iOS蓝牙开发：蓝牙连接和数据读写')" class="tg float-l" >收藏文章</a>
                    <div class="share float-r">分享到：
                        <div class="bdsharebuttonbox" id="sharediv"><a href="#" class="bds_more" data-cmd="more"></a> <a href="#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间"></a><a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a> <a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信"></a></div>
                    </div>
                </div>


                <a class="zanbox" href="javascript:void(0)" id="zanbox" onClick="postDigg('good',17813)" title="哎呦，不错噢，赞一个" >
                    <strong id="newdigg">
                     <script src="/cms/plus/count.php?view=yes&digg_id=17813&mid=65" language="javascript"></script>
                    </strong>
                </a>
            </div>

            <div class="article-prev">上一篇：<a href='/ios/20161021/17812.html'>iOS仿QQ音乐毛玻璃效果</a> </div>
            <div class="article-next">下一篇：<a href='/ios/20161021/17820.html'>iOS10推送必看UNNotificationContentExtension</a> </div>

            <!--相关资讯-->
            <div class="part-wrap clearfix">
                <h3>相关资讯</h3>
                <ul class="info-list clearfix">
                    <li>
                        <a href="/ios/20161108/17996.html" target="_blank" title="Xcode6之前，创建项目，默认可以看见一个存放框架的文件夹，info文件以工程文件名开头,如：第一个项目-Info.plist，项目中默认有一个PCH文件">iOS的常见文件及程序的启动原理</a>
                     </li>
<li>
                        <a href="/ios/20161108/17994.html" target="_blank" title="找了这么长时间，再次开始去尝试Cocoapods了。前面已经写过一篇关于如何把自己的Github上的代码库添加Cocoapods支持。现在就让我们看一下如果搭建私有的Spec吧。">私有Pod Spec类库--提高公司开发效率</a>
                     </li>
<li>
                        <a href="/ios/20161108/17990.html" target="_blank" title="在OSX/iOS中IO多路复用通常会选择select和kqueue，最近在尝试优化socket改进通信效率，所以总结一下两种模型的用法。
">OSX/iOS中多路I/O复用总结</a>
                     </li>
<li>
                        <a href="/ios/20161108/17983.html" target="_blank" title="边播边下有三套左右实现思路，本文使用AVPlayer + AVURLAsset实现。">正儿八经学iOS系列 - AVPlayer实现流音频边播边存</a>
                     </li>
<li>
                        <a href="/ios/20161108/17982.html" target="_blank" title="卷积神经网络在计算机视觉的不同领域的流行，再加上手机上又快又强的GPU，使卷积神经网络也成为移动开发的一个极具吸引力的利器。卷积神经网络和深度学习打开了移动应用创新的大门。 ">iOS 10和macOS中的卷积神经网络</a>
                     </li>
<li>
                        <a href="/ios/20161107/17981.html" target="_blank" title="有时候，对同一个URL请求多次，返回的数据可能都是一样的，比如服务器上的某张图片，无论下载多少次，返回的数据都是一样的。这个时候，我们就需要使用缓存策略，以便为用户节省流量，提高应">iOS开发网络——数据缓存</a>
                     </li>
<li>
                        <a href="/ios/20161107/17978.html" target="_blank" title="很多做企业级App的开发者都会遇到这样的困扰：用户下载完成企业级App后，需要进入经历一个痛苦的手动信任过程:">iOS10 从Safari跳转到描述文件与设备管理</a>
                     </li>
<li>
                        <a href="/ios/20161105/17967.html" target="_blank" title="近日工作不是太忙，刚好有时间了解一些其他东西，本来打算今天上午去体检，但是看看天气还是明天再去吧，也有很大一个原因：就是周六没有预约上！闲话少说，这里简单对锁来个简单介绍分享。">谈谈iOS中的锁</a>
                     </li>
<li>
                        <a href="/ios/20161104/17960.html" target="_blank" title="由于前段时间发现自己在Github上的这份代码被简书上某用户直接拷贝来发表了，而又并没有注明代码出处，于是决定还是自己着手写一篇好了。">为视图添加丝滑的水波纹</a>
                     </li>
<li>
                        <a href="/ios/20161104/17948.html" target="_blank" title="经常发现在一些需要使用消息转发而创建代理类时, 不同的程序员都有着不同的使用方法, 有些采用继承于NSObject, 而有一些采用继承自NSProxy. 二者都是Foundation框架中的基类, 并且都实现了<NSObject>这个接">使用NSProxy和NSObject设计代理类的差异</a>
                     </li>

                </ul>
            </div>
            <div class="clearfix" style="margin-top:20px;" >
                <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                <!-- CC评论框 -->
                <ins class="adsbygoogle"
                     style="display:inline-block;width:750px;height:90px"
                     data-ad-client="ca-pub-1180518835303646"
                     data-ad-slot="8242010366"></ins>
                <script>
                    (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
            </div>
            <!-- 评论模块start -->
            
            <div class="clearfix" id="commnet_list_holder" style="margin-bottom:50px;">
                <div class="glab-comment-form">
                    <div class="dcbt">我来说两句</div>
                    <div class="user-head">
                        <img id="user_face_url" src="http://cdn.cocimg.com/bbs/images/face/none.gif" height="43" width="43" alt="">
                    </div>
                    <div class="form-region">
                        <textarea name="comment" id="main_comment_content" cols="30" rows="10" placeholder="你怎么看？快来评论一下吧！"></textarea>
                        <a class="submitform" id="main_comment_bt">发表评论</a>
                        <div class="unlogin-mask">
                            <div>您还没有登录！请<a href="/bbs/login.php">登录</a>或<a href="/bbs/register.php">注册</a></div>
                        </div>
                    </div>
                </div>
                <div id="glab-comment-callback-msg" class="glab-comment-info"></div>
                <div class="glab-comment-title">所有评论（<span>0</span>）</div>
                <div class="glab-commentlist" id="commentlist">
                    <a id="refresh_comment_btn" href="javascript:;" onclick="$('#morecomment').trigger('click')">刷新评论</a>
                </div>
                <div class="glab-comment-more" id="morecomment" style="display:none">
                    更多评论
                </div>
            </div>
            
            <!-- 评论模块end -->


        </div>
        <!--./left-->
        <!--侧边栏-->
        <div class="clearfix newslist">
            <div class="rightSide detail-right float-r"  >
                <!--两周热门资讯推荐-->
                <div>
                    <div class="part-wrap clearfix">
                        <h3>热门资讯</h3>
                        <ul class="related-hot">
                            <li class="clearfix"><a href="http://www.cocoachina.com/ios/20161026/17850.html" class="float-l pic" target="_blank" title="iOS项目分析及优化"><img src="http://cc.cocimg.com/api/uploads/161025/1f0408f7572cd06600bf05d9f6711461.jpg"  style="max-height:60px" alt="iOS项目分析及优化"/></a><div style="margin-left:86px"><p class="related-intro"><a href="http://www.cocoachina.com/ios/20161026/17850.html" target="_blank" title="iOS项目分析及优化">iOS项目分析及优化</a></p><p class="hits">点击量<span>8243</span></p></div></li><li class="clearfix"><a href="http://www.cocoachina.com/ios/20161031/17887.html" class="float-l pic" target="_blank" title="iOS-图文表并茂，手把手教你GCD"><img src="http://cc.cocimg.com/api/uploads/161030/3674d9141c441dfefd3712d87be56070.jpg"  style="max-height:60px" alt="iOS-图文表并茂，手把手教你GCD"/></a><div style="margin-left:86px"><p class="related-intro"><a href="http://www.cocoachina.com/ios/20161031/17887.html" target="_blank" title="iOS-图文表并茂，手把手教你GCD">iOS-图文表并茂，手把手教你GCD</a></p><p class="hits">点击量<span>6452</span></p></div></li><li class="clearfix"><a href="http://www.cocoachina.com/ios/20161025/17849.html" class="float-l pic" target="_blank" title="做一个 App 前需要考虑的几件事"><img src="http://cc.cocimg.com/api/uploads/161025/0c26b4e53ef8684ce2d19b6e47d376fa.jpg"  style="max-height:60px" alt="做一个 App 前需要考虑的几件事"/></a><div style="margin-left:86px"><p class="related-intro"><a href="http://www.cocoachina.com/ios/20161025/17849.html" target="_blank" title="做一个 App 前需要考虑的几件事">做一个 App 前需要考虑的几件事</a></p><p class="hits">点击量<span>6352</span></p></div></li><li class="clearfix"><a href="http://www.cocoachina.com/apple/20161031/17893.html" class="float-l pic" target="_blank" title="苹果MBP接口太超前 理想主义总要付点代价"><img src="http://cc.cocimg.com/api/uploads/161031/b5184d472efbc81a19a53f1e6ce0f1a9.jpg"  style="max-height:60px" alt="苹果MBP接口太超前 理想主义总要付点代价"/></a><div style="margin-left:86px"><p class="related-intro"><a href="http://www.cocoachina.com/apple/20161031/17893.html" target="_blank" title="苹果MBP接口太超前 理想主义总要付点代价">苹果MBP接口太超前 理想主义总要付点代价</a></p><p class="hits">点击量<span>5864</span></p></div></li><li class="clearfix"><a href="http://www.cocoachina.com/apple/20161028/17878.html" class="float-l pic" target="_blank" title="一触即发：MacBook Pro全新阵容亮相"><img src="http://cc.cocimg.com/api/uploads/161028/88843c8e71249d041a8bfcd108e419eb.png"  style="max-height:60px" alt="一触即发：MacBook Pro全新阵容亮相"/></a><div style="margin-left:86px"><p class="related-intro"><a href="http://www.cocoachina.com/apple/20161028/17878.html" target="_blank" title="一触即发：MacBook Pro全新阵容亮相">一触即发：MacBook Pro全新阵容亮相</a></p><p class="hits">点击量<span>5542</span></p></div></li><li class="clearfix"><a href="http://www.cocoachina.com/ios/20161103/17932.html" class="float-l pic" target="_blank" title="一个iOS模块化开发解决方案"><img src="http://cc.cocimg.com/api/uploads/161102/6266c80890ba681ced85648358b29526.jpg"  style="max-height:60px" alt="一个iOS模块化开发解决方案"/></a><div style="margin-left:86px"><p class="related-intro"><a href="http://www.cocoachina.com/ios/20161103/17932.html" target="_blank" title="一个iOS模块化开发解决方案">一个iOS模块化开发解决方案</a></p><p class="hits">点击量<span>5110</span></p></div></li><li class="clearfix"><a href="http://www.cocoachina.com/ios/20161102/17931.html" class="float-l pic" target="_blank" title="如何优化 App 的启动时间"><img src="http://cc.cocimg.com/api/uploads/161102/b75e128e7b822ee8c2ef2e349f1b910f.jpg"  style="max-height:60px" alt="如何优化 App 的启动时间"/></a><div style="margin-left:86px"><p class="related-intro"><a href="http://www.cocoachina.com/ios/20161102/17931.html" target="_blank" title="如何优化 App 的启动时间">如何优化 App 的启动时间</a></p><p class="hits">点击量<span>4540</span></p></div></li><li class="clearfix"><a href="http://www.cocoachina.com/ios/20161101/17908.html" class="float-l pic" target="_blank" title="iOS开发系列--App扩展开发"><img src="http://cc.cocimg.com/api/uploads/161101/66b4a5b1294b81e3500823c3aa7d39aa.jpg"  style="max-height:60px" alt="iOS开发系列--App扩展开发"/></a><div style="margin-left:86px"><p class="related-intro"><a href="http://www.cocoachina.com/ios/20161101/17908.html" target="_blank" title="iOS开发系列--App扩展开发">iOS开发系列--App扩展开发</a></p><p class="hits">点击量<span>4306</span></p></div></li><li class="clearfix"><a href="http://www.cocoachina.com/apple/20161025/17848.html" class="float-l pic" target="_blank" title="三款全新MacBook型号曝光 MacBook Air真要被抛弃了"><img src="http://cc.cocimg.com/api/uploads/161025/bf0e62ecdbc8666e216de8e91291d393.jpg"  style="max-height:60px" alt="三款全新MacBook型号曝光 MacBook Air真要被抛弃了"/></a><div style="margin-left:86px"><p class="related-intro"><a href="http://www.cocoachina.com/apple/20161025/17848.html" target="_blank" title="三款全新MacBook型号曝光 MacBook Air真要被抛弃了">三款全新MacBook型号曝光 MacBook Air真要被抛弃了</a></p><p class="hits">点击量<span>3728</span></p></div></li><li class="clearfix noborder-b"><a href="http://www.cocoachina.com/ios/20161028/17870.html" class="float-l pic" target="_blank" title="迭代器模式(Java与IOS)"><img src="http://cc.cocimg.com/api/uploads/161028/37bce259df338997e518a097902fbe1d.png"  style="max-height:60px" alt="迭代器模式(Java与IOS)"/></a><div style="margin-left:86px"><p class="related-intro"><a href="http://www.cocoachina.com/ios/20161028/17870.html" target="_blank" title="迭代器模式(Java与IOS)">迭代器模式(Java与IOS)</a></p><p class="hits">点击量<span>3693</span></p></div></li>
                        </ul>
                    </div>
               </div>
               <!--./两周热门资讯推荐-->
               <!--综合评论-->
                <div class="part-wrap clearfix" style="margin-top: 15px;">
                    <h3>综合评论</h3>
                    <ul class="related-comment clearfix" id="all_comments_holder">
                        <li><span class="hide_comment">安卓风，能不能搞个iOS系统的分析分析</span><br/><p><span>Viterbi</span><span>评论了</span><a href="http://www.cocoachina.com/design/20161107/17979.html" title="UI设计中下拉刷新有什么讲究？" target="_blank" ><span>UI设计中下拉刷新有什么讲究？</span></a></p></li><li><span class="hide_comment">反正磁吸充电口没了真是不能忍</span><br/><p><span>wengxianxun</span><span>评论了</span><a href="http://www.cocoachina.com/apple/20161107/17970.html" title="苹果大幅下调USB-C配件价格是被舆论所逼？" target="_blank" ><span>苹果大幅下调USB-C配件价格是被舆论所逼？</span></a></p></li><li><span class="hide_comment">现在真是随便什么文章都能上热题</span><br/><p><span>xuhanqiang</span><span>评论了</span><a href="http://www.cocoachina.com/programmer/20161107/17969.html" title="软件开发中的上帝模式与农民模式" target="_blank" ><span>软件开发中的上帝模式与农民模式</span></a></p></li><li><span class="hide_comment">当微信也像qq一样臃肿的时候，对不起，另外一个替代者就会出现</span><br/><p><span>jtans</span><span>评论了</span><a href="http://www.cocoachina.com/industry/20161107/17980.html" title="微信小程序的想象力与不可想象域" target="_blank" ><span>微信小程序的想象力与不可想象域</span></a></p></li><li><span class="hide_comment">思路明确的情况下&nbsp;做事情还是非常有效率的</span><br/><p><span>白_小白</span><span>评论了</span><a href="http://www.cocoachina.com/programmer/20161107/17969.html" title="软件开发中的上帝模式与农民模式" target="_blank" ><span>软件开发中的上帝模式与农民模式</span></a></p></li><li><span class="hide_comment">呵呵，这编辑</span><br/><p><span>小小而已</span><span>评论了</span><a href="http://www.cocoachina.com/swift/20161020/17805.html" title="Alamofire4.0踩坑" target="_blank" ><span>Alamofire4.0踩坑</span></a></p></li><li><span class="hide_comment">因为穷，一直走路</span><br/><p><span>1ioser</span><span>评论了</span><a href="http://www.cocoachina.com/design/20161101/17896.html" title="产品经理，如何像滴滴、Uber一样培养用户习惯？" target="_blank" ><span>产品经理，如何像滴滴、Uber一样培养用户习惯？</span></a></p></li><li><span class="hide_comment">说的很到位&nbsp;&nbsp;现在就是个这样的情况</span><br/><p><span>tinAcer</span><span>评论了</span><a href="http://www.cocoachina.com/programmer/20161101/17901.html" title="2016年末闲谈iOS开发的未来" target="_blank" ><span>2016年末闲谈iOS开发的未来</span></a></p></li><li><span class="hide_comment">我想知道在view上怎么调起alertController</span><br/><p><span>_9308</span><span>评论了</span><a href="http://www.cocoachina.com/ios/20141126/10320.html" title="在iOS 8中使用UIAlertControlle..." target="_blank" ><span>在iOS 8中使用UIAlertControlle...</span></a></p></li><li class="noborder-b"><span class="hide_comment">阿花666</span><br/><p><span>bob_lls</span><span>评论了</span><a href="http://www.cocoachina.com/programmer/20161031/17895.html" title="他与全新 MacBook Pro 的一天" target="_blank" ><span>他与全新 MacBook Pro 的一天</span></a></p></li>
                    </ul>
                </div>
                <!--./综合评论-->
                <!--相关帖子-->
                <div class="part-wrap clearfix" style="margin:15px 0 15px 0;">
                    <h3>相关帖子</h3>
                    <ul class="related-comment clearfix">
                        <script charset="gb2312" src="http://www.cocoachina.com/bbs/new.php?action=article&fidin=21_18_2_8_19_41_59_48_56_14_36_5&digest=0&postdate=0&author=0&fname=0&hits=0&replies=0&pre=0&num=10&length=100&order=2&like=ios#iOS"></script>
                    </ul>
                </div>
                <!--./相关帖子-->
                <iframe width="230" height="550" class="share_self" frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=230&height=550&fansRow=2&ptype=1&speed=0&skin=5&isTitle=1&noborder=1&isWeibo=1&isFans=0&uid=1659808677&verifier=6043be56&dpc=1"></iframe>
                <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                <!-- CC列表页面230x230 -->
                <ins class="adsbygoogle"
                     style="display:inline-block;width:230px;height:230px"
                     data-ad-client="ca-pub-1180518835303646"
                     data-ad-slot="6765277166"></ins>
                <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
            </div>
        </div>
        <!--./侧边栏-->
    </div>

    <div id="coco-store" style="display:none">
        <div class="storebox">
            <h5>提示</h5>
            <h3>已经收藏该篇文章</h3>
            <p class="p1"><a href="/bbs/u.php?action=favor&tag=1" target="_blank">去我的收藏夹</a></p>
            <p class="p2"><a href="/bbs/login.php">请登录</a></p>
        </div>
    </div> <!--收藏提示-->
</div>

<script type="text/javascript">

function postDigg(ftype,aid)
{
    var taget_obj = document.getElementById('newdigg');
    var saveid = GetCookie('diggid');
    if(saveid != null)
    {
        var saveids = saveid.split(',');
        var hasid = false;
        saveid = '';
        j = 1;
        for(i=saveids.length-1;i>=0;i--)
        {
            if(saveids[i]==aid && hasid) continue;
            else {
                if(saveids[i]==aid && !hasid) hasid = true;
                saveid += (saveid=='' ? saveids[i] : ','+saveids[i]);
                j++;
                if(j==20 && hasid) break;
                if(j==19 && !hasid) break;
            }
        }
        if(hasid) { alert("您已经顶过该帖，请不要重复顶帖 ！"); return; }
        else saveid += ','+aid;
        SetCookie('diggid',saveid,1);
    }
    else
    {
        SetCookie('diggid',aid,1);
    }
    myajax = new DedeAjax(taget_obj,false,false,'','','');
    var url = "/cms/plus/digg_ajax.php?action="+ftype+"&id="+aid;
    myajax.SendGet2(url);
    DedeXHTTP = null;
    $('#zanbox').addClass('zanbox-selected');
}
function getDigg(aid)
{
    var taget_obj = document.getElementById('newdigg');
    myajax = new DedeAjax(taget_obj,false,false,'','','');
    myajax.SendGet2("/cms/plus/digg_ajax.php?id="+aid);
    DedeXHTTP = null;
}


//显示对应的导航：
$(function(){
    var article_id = $('#article_id').val();
    var saveid = GetCookie('diggid');

    if(saveid != null)
    {
        var saveids = saveid.split(',');
        var hasid = false;
        saveid = '';
        j = 1;
        for(i=saveids.length-1;i>=0;i--)
        {
            if(saveids[i]==article_id && hasid) continue;
            else {
                if(saveids[i]==article_id && !hasid) hasid = true;
                saveid += (saveid=='' ? saveids[i] : ','+saveids[i]);
                j++;
                if(j==20 && hasid) break;
                if(j==19 && !hasid) break;
            }
        }

        if(hasid)
        {
            $('#zanbox').addClass('zanbox-selected');
        }

    }

});

window.onload = function() {

    $('#sharediv').removeClass('bdshare-button-style1-32');
    $('#sharediv').attr('class','bdsharebuttonbox');
};
</script>
<script type="text/javascript" src="http://cdn.cocimg.com/cms/templets/js/shCore.js"></script>
    <script type="text/javascript" src="http://cdn.cocimg.com/cms/templets/js/brush.js"></script>
    <link type="text/css" rel="stylesheet" href="http://cdn.cocimg.com/cms/templets/style/shCoreDefault.css"/>
    <script type="text/javascript">
    //SyntaxHighlighter.config.clipboardSwf = '/js/scripts/clipboard.swf';

    SyntaxHighlighter.all();</script>


<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"iOS蓝牙开发：蓝牙连接和数据读写 - 来自CocoaChina苹果开发中文站@CocoaChina","bdMini":"2","bdMiniList":false,"bdPic":"http://api.cocoachina.com/uploads/161019/ebd215b663d61b3bd2cc6b4bc422ff85.jpg","bdStyle":"1","bdSize":"32"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api//js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>
<!--./cont-->

<!-- 回复评论框模板 -->
<script type="text/javascript" src="http://cdn.cocimg.com/cms/templets/js/comment.js?v=20151019"></script>
<script type="text/javascript" src="http://cdn.cocimg.com/cms/templets/js/mustache.min.js"></script>
<!-- 回复评论框模板 -->
<script id="reply_comment_template" type="x-tmpl-mustache">
    <div id="sub-reply-comment" class="reply-comment">
        <textarea name="subcomment" id="sub-reply-txt" cols="30" rows="10" placeholder="你怎么看？快来评论一下吧！"></textarea>
        <input type="hidden" id="sub-reply-id" value="{{commentid}}" />
        <input type="hidden" id="sub-reply-userid" value="{{parentuserid}}" />
        <input type="hidden" id="sub-reply-username" value="{{parentusername}}" />
        <a type="button" id="sub_comment_bt" class="submitbt">提交</a>
        <div class="clearfloat"></div>
        <div class="unlogin-mask">
            <div>您还没有登录！请<a href="/bbs/login.php">登录</a>或<a href="/bbs/register.php">注册</a></div>
        </div>
    </div>
</script>

<!-- 评论模板 -->
<script id="main_comment_template" type="x-tmpl-mustache">
    <div class="glab-comment" rel-data-id="{{comment_id}}" rel-user-id="{{user_id}}" rel-user-name="{{user_name}}" rel-layer="1">
        <div class="comment-left">
            <a href="/bbs/u.php?action=feed&uid={{user_id}}" target="_blank"><img src="{{user_icon_url}}" height="43" width="43" alt=""></a>
        </div>
        <div class="comment-right">
            <div class="comment-author"><a href="/bbs/u.php?action=feed&uid={{user_id}}" target="_blank">{{user_name}}</a><span class="puptime">{{create_time}}</span></div>
            <div class="comment-content">{{&content}}</div>
            <div class="comment-buttons">
                <span class="ding">                    
                    <img src="http://cdn.cocimg.com/cms/templets/images/zan-default.png" height="14" width="14" alt="" class="default" style="{{#has_supported}} display:none; {{/has_supported}}">
                    <img src="http://cdn.cocimg.com/cms/templets/images/zan-active.png" height="14" width="14" alt="" class="actived" style="{{^has_supported}} display:none; {{/has_supported}}">
                    <span class="zancnt">{{support}}</span>
                </span>
                <span class="cai">
                    <img src="http://cdn.cocimg.com/cms/templets/images/cai-default.png" height="14" width="14" alt="" class="default" style="{{#has_reported}} display:none; {{/has_reported}}">
                    <img src="http://cdn.cocimg.com/cms/templets/images/cai-active.png" height="14" width="14" alt="" class="actived" style="{{^has_reported}} display:none; {{/has_reported}}">
                    <span class="zancnt">{{report}}</span>
                </span>
                <span class="replybt">回复</span>
            </div>
        </div>
            {{#sub}}
                <div class="glab-comment glab-sub-comment" rel-data-id="{{comment_id}}" rel-user-id="{{user_id}}" rel-user-name="{{user_name}}" rel-layer="2">
                    <div class="comment-left">
                        <a href="/bbs/u.php?action=feed&uid={{user_id}}" target="_blank"><img src="{{user_icon_url}}" height="43" width="43" alt=""></a>
                    </div>
                    <div class="comment-right">
                        <div class="comment-author"><a href="/bbs/u.php?action=feed&uid={{user_id}}" target="_blank">{{user_name}}</a><span class="puptime">{{create_time}}</span></div>
                        <div class="comment-content"><a href="/bbs/u.php?action=feed&uid={{parent_user_id}}" target="_blank">回复：{{parent}}</a>{{&content}}</div>
                        <div class="comment-buttons">
                            <span class="ding">
                                <img src="http://cdn.cocimg.com/cms/templets/images/zan-default.png" height="14" width="14" alt="" class="default" style="{{#has_supported}} display:none; {{/has_supported}}">
                                <img src="http://cdn.cocimg.com/cms/templets/images/zan-active.png" height="14" width="14" alt="" class="actived" style="{{^has_supported}} display:none; {{/has_supported}}">
                                <span class="zancnt">{{support}}</span>
                            </span>
                            <span class="cai">
                                <img src="http://cdn.cocimg.com/cms/templets/images/cai-default.png" height="14" width="14" alt="" class="default" style="{{#has_reported}} display:none; {{/has_reported}}">
                                <img src="http://cdn.cocimg.com/cms/templets/images/cai-active.png" height="14" width="14" alt="" class="actived" style="{{^has_reported}} display:none; {{/has_reported}}">
                                <span class="zancnt">{{report}}</span>
                            </span>
                            <span class="replybt">回复</span>
                        </div>          
                    </div>
                </div>
            {{/sub}}         
    </div>  
</script>


<script id="sub_comment_template" type="x-tmpl-mustache">
    <div class="glab-comment glab-sub-comment" rel-data-id="{{comment_id}}" rel-user-id="{{user_id}}" rel-user-name="{{user_name}}" rel-layer="2">
        <div class="comment-left">
            <a href="/bbs/u.php?action=feed&uid={{user_id}}" target="_blank"><img src="{{user_icon_url}}" height="43" width="43" alt=""></a>
        </div>
        <div class="comment-right">
            <div class="comment-author"><a href="/bbs/u.php?action=feed&uid={{user_id}}" target="_blank">{{user_name}}</a><span class="puptime">{{create_time}}</span></div>
            <div class="comment-content"><a href="/bbs/u.php?action=feed&uid={{parent_user_id}}" target="_blank">回复：{{parent}}</a>{{&content}}</div>
            <div class="comment-buttons">
                <span class="ding">
                    <img src="http://cdn.cocimg.com/cms/templets/images/zan-default.png" height="14" width="14" alt="" class="default" style="{{#has_supported}} display:none; {{/has_supported}}">
                    <img src="http://cdn.cocimg.com/cms/templets/images/zan-active.png" height="14" width="14" alt="" class="actived" style="{{^has_supported}} display:none; {{/has_supported}}">
                    <span class="zancnt">{{support}}</span>
                </span>
                <span class="cai">
                    <img src="http://cdn.cocimg.com/cms/templets/images/cai-default.png" height="14" width="14" alt="" class="default" style="{{#has_reported}} display:none; {{/has_reported}}">
                    <img src="http://cdn.cocimg.com/cms/templets/images/cai-active.png" height="14" width="14" alt="" class="actived" style="{{^has_reported}} display:none; {{/has_reported}}">
                    <span class="zancnt">{{report}}</span>
                </span>
                <span class="replybt">回复</span>
            </div>          
        </div>
    </div>
</script>


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-68948817-1', 'auto', {'name': 'newTracker'});
  ga('newTracker.send', 'pageview');

</script>
</div>    
<!--右侧浮动-->
    <div class="r-bar">
        <img src="http://cdn.cocimg.com/cms/templets/images/coco_weixin.png" class="weixin">
    	<a href="http://weibo.com/cocoachina" target="_blank" title="" class="weibo">sina</a>
        <a href="javascript:void(0);" target="_blank" title="" class="feedback">weixin</a>
        <a href="mailto:support@cocoachina.com" title="" class="kefu">mail</a>
        <a href="javascript:;" title="回到顶部" class="returntop">回到顶部</a>
    </div>

<script language="javascript" src="/cms/bbsauth_plus2015.php" type="text/javascript"></script>
<script type="text/javascript">
$(function(){
    if (typeof(_user_info_html) != 'undefined' && _user_info_html)
    {
        $('.nav-user-login').hide();
        $('.nav-user-name').html(_user_info_html).show();
    }

	var type = $('#type_name').html();
	if(type)
	{	
		switch( type )
		{
			case 'iOS开发':
				$('#ios').addClass('light');
				break;
			case 'AppStore研究':
				$('#app_store').addClass('light');
				break;
			case 'Mac开发':
				$('#mac').addClass('light');
				break;
			case '产品设计':
				$('#design').addClass('light');
				break;
			case 'Cocos引擎':
				$('#cocos').addClass('light');
				break;
			case 'WebApp':
				$('#webapp').addClass('light');
				break;
			case 'Swift':
				$('#swift').addClass('light');
				break;
			case '游戏开发':
				$('#game').addClass('light');
				break;
			case '苹果相关':
				$('#apple').addClass('light');
				break;
			case '营销推广':
				$('#market').addClass('light');
				break;		
			case '业界动态':
				$('#industry').addClass('light');
				break;	
			case '程序人生':
				$('#programmer').addClass('light');
				break;																																
				
		}
	}
});
</script>
<!--./cont-->
<script type="text/javascript" src="/cms/templets/js/index.js?20111546514"></script>
<script src="http://cdn.cocimg.com/cms/templets/js/jquery.colorbox-min.js" type="text/javascript"></script>
<script src="/cms/templets/js/script.js?t=2045479411" type="text/javascript"></script>
<script type="text/javascript">
			jQuery(function()
			{
				//更改文章来源
				var source = $('#source a').html();								
				if( source == '未知' )
					jQuery('#source a').html('CocoaChina');
				if( jQuery('#source a').attr('href')=='')
					jQuery('#source').html('来源：'+source);
				
				//获取用户登录的id
//                var content = jQuery('.t-lid').attr("href");
//                var uid = 0;
//                if( content )
//                {
//                    content = content.split('=');
//                    uid = content[1];
//                }
//                var timestamp = new Date().getTime();	
//                var uid2 = parseInt(uid);
//                if(uid2==uid && uid2!=0){
//                    uid = uid<<2;			
//                    uid = uid+''+timestamp;
//                }else{
//                    uid = "";
//                }
//                var oIframe=document.getElementById("comiframe");
//                if(oIframe){
//                    var oUrl=window.location.href;
//                    oUrl = encodeURIComponent(oUrl);
//
//                    oIframe.src="/comment.php?url="+oUrl+"&uid="+uid;
//                }

				
			});
		</script>
<!--footer-->
<div class="footer clearfix">
    <div class="footer-b">
        <div>
            <a href="/aboutus/index.html" target="_blank">关于我们</a>
            <a href="/contactus/index.html" target="_blank">商务合作</a>
            <a href="mailto:support@cocoachina.com" target="_blank">联系我们</a>
            <a href="/corps" target="_blank">合作伙伴</a>
        </div>
        <p class="footer-b-p">北京触控科技有限公司版权所有</p>
        <p>
            &copy;2016 Chukong Technologies,Inc.
            <i>
                <a href="http://www.miibeian.gov.cn/" target="_blank">京ICP备 11006519号 　京ICP证 100954号</a> 京公网安备11010502020289 
                <a href="http://182.131.21.137/ccnt-apply/admin/business/preview/business-preview!lookUrlRFID.action?main_id=A580B24B1AE846CE9DA949026D63939F" target="_blank">
                    <img src="http://cdn.cocimg.com/cms/templets/images/jingwen.png" style="margin: -10px auto -14px -10px;" />
                    京网文[2012]0426-138号
                </a>
            </i>
        </p>
    </div>
</div>
<!--./footer-->
<script language="javascript" type="text/javascript" src="/cms/include/dedeajax2-min.js"></script>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?88399e4c4cf744609c4fc8c3a8935691";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-16940817-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
  
 
function search_check()
{
	var search_keyword = $('#search_keyword').val();

	if( search_keyword.length < 2 )
	{
		alert("搜索关键字不能少于2个字节，请重新输入。");
	}
	else
	{
		$('#searchform').submit();
	}
}

</script>
<script type="text/javascript">
_acK({aid:116313,format:0,mode:1,gid:1,serverbaseurl:"afp.csbew.com/"});
</script>

</body>
</html>
